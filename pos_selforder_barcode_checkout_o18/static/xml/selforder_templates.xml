<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="selforder_barcode_templates" inherit_id="pos_self_order.self_order_checkout" name="Self-Order Barcode + Delivery (O18)">
    <xpath expr="//div[contains(@class, 'o_self_order_checkout')]" position="inside">
      <t t-if="config.so_barcode_checkout_enabled">
        <section class="o-selforder-scan card">
          <div class="card-body">
            <h3 class="o-selforder-title">Escanea tu código</h3>
            <p class="o-selforder-subtitle">Identifícate con tu código para acelerar el pago.</p>
            <div class="o-selforder-scan-actions">
              <button type="button" class="btn btn-primary" id="so-scan-start">Iniciar escaneo</button>
              <button type="button" class="btn btn-secondary" id="so-scan-stop" disabled>Detener</button>
            </div>
            <div class="o-selforder-video-wrap"><video id="so-scan-video" playsinline muted></video></div>
            <div class="o-selforder-manual">
              <label>¿Sin cámara? Ingresa tu código:</label>
              <div class="input-group">
                <input class="form-control" id="so-manual-code" placeholder="Ej. 1234567890"/>
                <button class="btn btn-outline-primary" id="so-manual-submit">Buscar</button>
              </div>
            </div>
            <div class="o-selforder-result mt-3" id="so-scan-result"></div>
          </div>
        </section>
      </t>

      <t t-if="config.so_enable_delivery">
        <section class="o-selforder-delivery card mt-3">
          <div class="card-body">
            <h3 class="o-selforder-title">Entrega o Retiro</h3>
            <div class="row g-2">
              <div class="col-6">
                <input class="form-control" id="so-delivery-city" placeholder="Ciudad"/>
              </div>
              <div class="col-6">
                <input class="form-control" id="so-delivery-zip" placeholder="Código Postal"/>
              </div>
            </div>
            <div class="o-selforder-manual mt-2">
              <button class="btn btn-outline-secondary" id="so-delivery-quote">Calcular envío</button>
            </div>
            <div class="o-selforder-result mt-2" id="so-delivery-result"></div>
          </div>
        </section>
      </t>
    </xpath>
  </template>
</odoo>
